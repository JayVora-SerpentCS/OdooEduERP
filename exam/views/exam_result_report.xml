<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <template id="exam_result_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <div class="oe_structure" />
                        <br/>
                        <br/>
                        <t t-foreach="o" t-as="result">
                            <table width="100%">
                                <center>
                                	<h2><b>Detailed Marks Certificate</b></h2>
                                    <h3><b t-field="result.s_exam_ids.name"></b>
                                    <b>:</b> 
                                    <b t-field="result.standard_id.name"></b></h3>
                                    <b t-field="result.s_exam_ids.academic_year"></b>
                                    <br/>
                                    
                                </center>
                                <br/><br/>
                                <tr>
                                    <td width="19%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <b>Student Name</b>
                                    </td>
                                    <td width="1%">
                                        <span>:</span>
                                    </td>
                                    <td width="30%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <span t-field="o.student_id.name"></span>
                                    </td>
                                    
                                    <td width="19%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <b>Father Name</b>
                                    </td>
                                    <td width="1%">
                                        <span>:</span>
                                    </td>
                                    <td width="30%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <span t-field="o.student_id.father_name"></span>
                                        
                                    </td>
                                </tr>
                                        <tr>
                                    <td width="19%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <b>Class</b>
                                    </td>
                                    <td width="1%">
                                        <span>:</span>
                                    </td>
                                    <td width="30%" style="font-family: 'Helvetica';font-size: 18px;">
                                     
                                        <span t-field="o.standard_id.name"></span>
                                     
                                    </td>
                                    <td width="19%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <b>	Grade System</b>
                                    </td>
                                    <td width="1%">
                                        <span>:</span>
                                    </td>
                                    <td width="30%" style="font-family: 'Helvetica';font-size: 18px;">
                                        <span t-field="o.grade_system"></span>
                                    </td>
                                    
                                </tr>
                            </table>
                            <br />
                            <table width="100%">
                                <thead>
                                    <tr>
                                      <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>No</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>Subject Name</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>Maximum marks</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>Minimum Marks</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>Obtain Marks</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b> Percentage</b>
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="get_result_detail(result.result_ids)" t-as="sub_res_info">
                                        <tr>
                                          <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('no')"></span>
                                            </td>
                                            <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('subject')"></span>
                                            </td>
                                            <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('max_mark')"></span>
                                            </td>
                                            <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('mini_marks')"></span>
                                            </td>
                                            <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('obt_marks')"></span>
                                            </td>
                                            <td align="center"
                                                style="font-family: 'Helvetica';font-size: 16px;border: 2px solid black;">
                                                <span t-esc="sub_res_info.get('subject_percentage')"></span>
                                            </td>
                                        </tr>
                                        
                                        
                                    </t>
                                    
                                    
                                                                        
                                     <tr>
                                      <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b>Total</b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b></b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b></b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                            <b> <span t-field="o.total"></span></b>
                                        </td>
                                        <td align="center"
                                            style="font-family: 'Helvetica';font-size: 18px;border: 2px solid black;">
                                              <b> <span t-field="o.percentage"></span></b>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <br/><br/>
                            <table width="100%" border="1" style="padding-top:10px;">
                           
                            <tr><td width="15%"><b>Grade:</b></td><td><span t-field="o.grade"></span></td></tr>
                            <tr><td width="15%"><b>Position:</b></td><td> <span t-field="o.position"></span></td></tr>
                            <tr><td width="15%"><b>Remarks:</b></td><td> <span t-field="o.result"></span></td></tr>
                            <tr><td width="15%"><b>Attendance:</b></td><td> <span t-esc="get_student_attendance()"> </span></td></tr>
                       
                            <tr><td height="100" style="padding-top:50px;" width="15%"><b><u>Principle:</u></b></td><td></td></tr>
                            <tr><td height="100" style="padding-top:80px;" width="15%"><b><u>Parent Sign:</u></b></td><td></td></tr>
                                                                                
                            <t t-set="current_date" t-value="get_current_date()" />
                            
                            <tr><td height="30" style="padding-top:30px;" width="15%"><b>Result Date:</b></td>
                            	<td> <span t-field="o.s_exam_ids.start_date"> </span></td> </tr>
                            <tr><td height="30" style="padding-top:30px;" width="15%"><b>Issue Date:</b></td>
                            	<td>  <span t-esc="current_date" ></span> </td> </tr>
                            
                            </table>
                        </t>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>
